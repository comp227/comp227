{"componentChunkName":"component---src-templates-content-template-js","path":"/part8/react_with_types","result":{"data":{"markdownRemark":{"html":"<div class=\"content\">\n<p>Before we start delving into how you can use TypeScript with React, we should first have a look at what we want to achieve.\nWhen everything works as it should, TypeScript will help us catch the following errors:</p>\n<ul>\n<li>Trying to pass an extra/unwanted prop to a component</li>\n<li>Forgetting to pass a required prop to a component</li>\n<li>Passing a prop with the wrong type to a component</li>\n</ul>\n<p>If we make any of these errors, TypeScript will help us notice them immediately via the IDE.\nIf we didn't use TypeScript, we would have to catch these errors later during testing.\nWe might be forced to do some tedious debugging to find the cause of the errors.</p>\n<p>Avoiding tedious debugging is always appreciated.</p>\n<p>Like in the previous parts, we'll start with a new empty repo.\n<a href=\"http://go.djosv.com/227labtsreact\">http://go.djosv.com/227labtsreact</a>.\nGo ahead and import that into WebStorm just like with all the previous iterations.</p>\n<p>Once you have that done, let's get into it!</p>\n<h3>Vite with TypeScript</h3>\n<p>We can use <a href=\"https://vitejs.dev/\">Vite</a> to create a TypeScript app specifying the template <em><code class=\"language-text\">react-ts</code></em> in the initialization script.\nSo to create a TypeScript app, run the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> create vite@latest my-app-name -- --template react-ts</code></pre></div>\n<p>After running the command, <strong><em>you should have a complete basic React app that uses TypeScript</em></strong>.\nYou can start the app by running <code class=\"language-text\">npm run dev</code> in the application's root.</p>\n<blockquote>\n<p><em>You'll need to cd into the new folder you just created to start it</em></p>\n</blockquote>\n<p>If you take a look at the files and folders,\nyou'll notice that the app is not that different from one using pure JavaScript.\nThe only differences are that the <em>.jsx</em> files are now <em>.tsx</em> files,\nthey contain some type annotations, and the root directory contains a <em>tsconfig.json</em> file.</p>\n<p>Now, let's take a look at the <em>tsconfig.json</em> file that has been created for us:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ES2020\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"useDefineForClassFields\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"lib\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"ES2020\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"DOM\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"DOM.Iterable\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ESNext\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"skipLibCheck\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">/* Bundler mode */</span>\n    <span class=\"token string\">\"moduleResolution\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"bundler\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"allowImportingTsExtensions\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"resolveJsonModule\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"isolatedModules\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"noEmit\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"jsx\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-jsx\"</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token comment\">/* Linting */</span>\n    <span class=\"token string\">\"strict\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"noUnusedLocals\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"noUnusedParameters\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"noFallthroughCasesInSwitch\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"include\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"src\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"references\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./tsconfig.node.json\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Notice <code class=\"language-text\">compilerOptions</code> now has the key <a href=\"https://www.typescriptlang.org/tsconfig#lib\"><code class=\"language-text\">lib</code></a>\nthat includes:</p>\n<blockquote>\n<p><em>type definitions for things found in browser environments (like <code class=\"language-text\">document</code>).</em></p>\n</blockquote>\n<p>Everything else should be more or less fine.</p>\n<p>In our previous project, we used ESlint to help us enforce a coding style, and we'll do the same with this app.\nWe do not need to install any dependencies, since Vite has taken care of that already.</p>\n<p>In our previous project, we used ESlint to help us enforce a coding style, and we'll do the same with this app.\nWe do not need to install any dependencies, since Vite has taken care of that already.</p>\n<p>When we look at the <em>main.tsx</em> file that Vite has generated, it looks familiar but there is a small but remarkable difference.\nThere is an exclamation mark after the statement <code class=\"language-text\">document.getElementById(&#39;root&#39;)</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App.tsx'</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./index.css'</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>React<span class=\"token punctuation\">.</span>StrictMode<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>The reason for this is that the statement might return value null but the <code class=\"language-text\">ReactDOM.createRoot</code> does not accept <em><code class=\"language-text\">null</code></em> as a parameter.\nWith the <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#non-null-assertion-operator-postfix-\"><code class=\"language-text\">!</code> operator</a>,\nit is possible to assert to the TypeScript compiler that the value is <em>not null</em>.</p>\n<p>Earlier in this part we <a href=\"/part8/first_steps_with_type_script#type-assertion\">warned</a> about the dangers of type assertions,\nbut in our case the assertion is OK since we are sure that the file <em>index.html</em> indeed has this particular id and the function is always returning a <code class=\"language-text\">HTMLElement</code>.</p>\n<h3>React components with TypeScript</h3>\n<p>Let us consider the following <strong><em>JavaScript React example</em></strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> PropTypes <span class=\"token keyword\">from</span> <span class=\"token string\">\"prop-types\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Welcome</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">props</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nWelcome<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> PropTypes<span class=\"token punctuation\">.</span>string\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Welcome</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Powercat<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>In this example, we have a component called <code class=\"language-text\">Welcome</code> to which we pass a <code class=\"language-text\">name</code> as a prop.\nIt then renders the name to the screen.\nWe know that the <code class=\"language-text\">name</code> should be a string,\nand we use the <a href=\"https://www.npmjs.com/package/prop-types\">prop-types</a> package introduced in\n<a href=\"/part5/props_children_and_proptypes#prop-types\">part 5</a> to receive hints about the desired types of a component's props and warnings about invalid prop types.</p>\n<p>With TypeScript, *we don't need the <strong>prop-types</strong> package anymore<em>.\nWe can define the types with the help of TypeScript, just like we define types for a regular function as *React components are nothing but mere functions</em>.\nWe will use an interface for the parameter types (i.e., <code class=\"language-text\">props</code>) and <code class=\"language-text\">JSX.Element</code> as the return type for any React component:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">WelcomeProps</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> Welcome <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> WelcomeProps<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span><span class=\"token parameter\">Element</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Welcome</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Powercat<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong><em>We defined a new type</em></strong>, <code class=\"language-text\">WelcomeProps</code>, and passed it to the function's parameter types.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> Welcome <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token operator\">:</span> WelcomeProps<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span><span class=\"token parameter\">Element</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></code></pre></div>\n<blockquote>\n<p>You could write the same thing using a more verbose syntax with the help of destructuring:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> Welcome <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> string <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span><span class=\"token parameter\">Element</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span></code></pre></div>\n</blockquote>\n<p>Now our editor knows that the <code class=\"language-text\">name</code> prop is a string.</p>\n<p>There is actually no need to define the return type of a React component since the TypeScript compiler infers the type automatically, and we can just write:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">WelcomeProps</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Welcome</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props<span class=\"token operator\">:</span> WelcomeProps</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span>  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">Hello, </span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Welcome</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Powercat<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</div>\n<div class=\"tasks\">\n<h3>Exercise 8.14</h3>\n<p>Create a new Vite App with TypeScript.</p>\n<p>This exercise is similar to the one you have already done in <a href=\"/part1/java_script#exercises-1-3-1-5\">Part 1</a> of the course, but with TypeScript and some extra tweaks.\nStart off by modifying the contents of <em>main.tsx</em> to the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/client'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> HTMLElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">App</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>and <em>App.tsx</em> to the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> companyName <span class=\"token operator\">=</span> <span class=\"token string\">\"Nintendo\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> companyHandhelds <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1046</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy Advance\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1538</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"DS\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1791</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> totalGames <span class=\"token operator\">=</span> companyHandhelds<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">carry<span class=\"token punctuation\">,</span> handheld</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> carry <span class=\"token operator\">+</span> handheld<span class=\"token punctuation\">.</span>gameCount<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>companyName<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>companyHandhelds<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token punctuation\">{</span>companyHandhelds<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>gameCount<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>companyHandhelds<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token punctuation\">{</span>companyHandhelds<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>gameCount<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span>companyHandhelds<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token plain-text\"> </span><span class=\"token punctuation\">{</span>companyHandhelds<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>gameCount<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        Number of games</span><span class=\"token punctuation\">{</span>totalGames<span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>and remove the unnecessary files.</p>\n<p>The whole app is now in one component.\nThat is not what we want, so refactor the code so that it consists of three components: <code class=\"language-text\">Header</code>, <code class=\"language-text\">Content</code> and <code class=\"language-text\">Total</code>.\nAll data is still kept in the <code class=\"language-text\">App</code> component, which passes all necessary data to each component as props.\n<strong>Be sure to add type declarations for each component's props!</strong></p>\n<p>The <code class=\"language-text\">Header</code> component should take care of rendering the name of the company.\n<code class=\"language-text\">Content</code> should render the names of the different handhelds and the number of games on each handheld, and <code class=\"language-text\">Total</code> should render the total sum of games across all handhelds.</p>\n<p>The <code class=\"language-text\">App</code> component should look somewhat like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// const-declarations</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Header</span></span> <span class=\"token attr-name\">name</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>companyName<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Content</span></span> <span class=\"token attr-name\">...</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Total</span></span> <span class=\"token attr-name\">...</span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n</div>\n<div class=\"content\">\n<h3>Adding types that don't exactly fit</h3>\n<p>In the previous exercise, we had three handhelds, and all handhelds had the same attributes <code class=\"language-text\">name</code> and <code class=\"language-text\">gameCount</code>.\nBut what if we needed additional attributes for the systems and each handheld needs different attributes?\nHow would this look, code-wise?\nLet's consider the following example:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> companyHandhelds <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1046</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"AA Battery monster, here we come!\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"DS\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1791</span><span class=\"token punctuation\">,</span>\n    numberOfScreens<span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy Advance\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1538</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"The SP version was OP\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Virtual Boy\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"All Hail The Greatest system everrrrr\"</span><span class=\"token punctuation\">,</span>\n    agreement<span class=\"token operator\">:</span> <span class=\"token string\">\"http://sebastianmihai.com/virtual-boy-warnings.html\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In the above example, we have added some additional attributes to each handheld.\nEach handheld has the <code class=\"language-text\">name</code> and <code class=\"language-text\">gameCount</code> attributes,\nbut the first, third and fourth also have an attribute called <code class=\"language-text\">description</code>,\nand the second and fourth handhelds also have some distinct additional attributes.</p>\n<p>Let's imagine that our application just keeps on growing, and we need to pass the different handheld systems around in our code.\nOn top of that, there are also additional attributes and handheld systems added to the mix.\nHow can we know that our code is capable of handling all the different types of data correctly,\nand we are not for example forgetting to render a new handheld system on some page?\nThis is where TypeScript comes in handy!</p>\n<p>Let's start by defining types for our different handhelds.\nWe notice that the first and third have the same set of attributes.\nThe second and fourth are a bit different so we have three different categories of handhelds.</p>\n<p>So let us define a type for each handheld category:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldBasic</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  gameCount<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  description<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldDual</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  gameCount<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  numberOfScreens<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"dual\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldVirtual</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  gameCount<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  description<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  agreement<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"vr\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Besides the attributes that are found in the various handhelds,\nwe have now <strong><em>introduced a additional attribute called <code class=\"language-text\">category</code></em></strong> that has a <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types\"><strong>literal</strong></a> type,\nit is a \"hard coded\" string, distinct for each handheld.\nWe shall soon see where the attribute <code class=\"language-text\">category</code> is used!</p>\n<p>We will now create a type <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types\">union</a> of all these types.\nWe can then use this union as the type for our array, which should accept any of these handheld types:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">type Handheld <span class=\"token operator\">=</span> HandheldBasic <span class=\"token operator\">|</span> HandheldDual <span class=\"token operator\">|</span> HandheldVirtual<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now we can set the type for our <code class=\"language-text\">companyHandhelds</code> variable.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> companyName <span class=\"token operator\">=</span> <span class=\"token string\">\"Nintendo\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> companyHandhelds<span class=\"token operator\">:</span> Handheld<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1046</span><span class=\"token punctuation\">,</span>\n      description<span class=\"token operator\">:</span> <span class=\"token string\">\"AA Battery monster, here we come!\"</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"DS\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1791</span><span class=\"token punctuation\">,</span>\n      numberOfScreens<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      category<span class=\"token operator\">:</span> <span class=\"token string\">\"dual\"</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy Advance\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1538</span><span class=\"token punctuation\">,</span>\n      description<span class=\"token operator\">:</span> <span class=\"token string\">\"The SP version was OP\"</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"Virtual Boy\"</span><span class=\"token punctuation\">,</span>\n      gameCount<span class=\"token operator\">:</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span>\n      description<span class=\"token operator\">:</span> <span class=\"token string\">\"All Hail The Greatest system everrrrr\"</span><span class=\"token punctuation\">,</span>\n      agreement<span class=\"token operator\">:</span> <span class=\"token string\">\"http://sebastianmihai.com/virtual-boy-warnings.html\"</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      category<span class=\"token operator\">:</span> <span class=\"token string\">\"vr\"</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span>\n\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Notice that we have now added the attribute <code class=\"language-text\">category</code> with a proper value to each element of the array.</p>\n<p>Our editor will automatically warn us if we use the wrong type for an attribute, use an extra attribute, or forget to set an expected attribute.\nIf we eg. try to add the following to the array</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"3DS\"</span><span class=\"token punctuation\">,</span>\n  gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1407</span><span class=\"token punctuation\">,</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"dual\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>We will immediately see an error in the editor:</p>\n<picture><img src=\"/static/ce2ce303f2e7db4a6f4c5c39bfd785e4/5a190/63new.png\" alt=\"WebStorm 3DS needs number of screens to be a handheld\" srcset=\"/static/ce2ce303f2e7db4a6f4c5c39bfd785e4/772e8/63new.png 200w,\n/static/ce2ce303f2e7db4a6f4c5c39bfd785e4/e17e5/63new.png 400w,\n/static/ce2ce303f2e7db4a6f4c5c39bfd785e4/5a190/63new.png 800w,\n/static/ce2ce303f2e7db4a6f4c5c39bfd785e4/d7542/63new.png 810w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>Since our new entry has the attribute <code class=\"language-text\">category</code> with value <em><code class=\"language-text\">dual</code></em>, <strong>TypeScript knows that the new entry is not just a <em><code class=\"language-text\">Handheld</code></em> but more specifically a <em><code class=\"language-text\">HandheldDual</code></em></strong>.\nSo here the attribute <code class=\"language-text\">category</code> <strong><em>narrows</em></strong> the type of the entry from a more general to a more specific type that has a certain set of attributes.\nWe shall soon see this style of type narrowing in action in the code!</p>\n<p>But we're not satisfied yet! There is still a lot of type duplication we want to avoid.\nWe start by identifying the attributes all handhelds have in common, and defining a <strong>base type</strong> that contains them.\nThen we will <a href=\"https://www.typescriptlang.org/docs/handbook/2/objects.html#extending-types\">extend</a> that base type to create our category-specific types:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  gameCount<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldBasic</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldDual</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  numberOfScreens<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"dual\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldVirtual</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  agreement<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"vr\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ntype Handheld <span class=\"token operator\">=</span> HandheldBasic <span class=\"token operator\">|</span> HandheldDual <span class=\"token operator\">|</span> HandheldVirtual<span class=\"token punctuation\">;</span></code></pre></div>\n<h3>More type narrowing</h3>\n<p>How should we now use these types in our components?</p>\n<p>If we try to access the objects in the array <code class=\"language-text\">handhelds: Handheld[]</code> we notice that it is possible to only access the attributes that are common to all the types in the union:</p>\n<picture><img src=\"/static/093206d0ada1f8f79cd3d54bb53c2a12/5a190/65new.png\" alt=\"WebStorm showing handheld...\" srcset=\"/static/093206d0ada1f8f79cd3d54bb53c2a12/772e8/65new.png 200w,\n/static/093206d0ada1f8f79cd3d54bb53c2a12/e17e5/65new.png 400w,\n/static/093206d0ada1f8f79cd3d54bb53c2a12/5a190/65new.png 800w,\n/static/093206d0ada1f8f79cd3d54bb53c2a12/5d72a/65new.png 834w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>And indeed, the TypeScript <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#working-with-union-types\">documentation</a> says this:</p>\n<blockquote>\n<p><em>TypeScript will only allow an operation (or attribute access) if it is valid for every member of the union.</em></p>\n</blockquote>\n<p>The documentation also mentions the following:</p>\n<blockquote>\n<p><em>The solution is to narrow the union with code...\nNarrowing occurs when TypeScript can deduce a more specific type for a value based on the structure of the code.</em></p>\n</blockquote>\n<p>So once again the <a href=\"https://www.typescriptlang.org/docs/handbook/2/narrowing.html\">type narrowing</a> is the rescue!</p>\n<p>One way to narrow these structures in TypeScript is to use <em>switch case</em> expressions.\nOnce TypeScript has deduced that a variable is of union type and that each type in the union contains a particular literal attribute (in our case <code class=\"language-text\">category</code>),\nwe can use that as a type identifier.\nWe can then build a switch case around that attribute and TypeScript will know which attributes are available within each case block:</p>\n<picture><img src=\"/static/c88102aea06a18cca8bd3f18b65b7846/5a190/64new.png\" alt=\"WebStorm showing handheld. and then attributes\" srcset=\"/static/c88102aea06a18cca8bd3f18b65b7846/772e8/64new.png 200w,\n/static/c88102aea06a18cca8bd3f18b65b7846/e17e5/64new.png 400w,\n/static/c88102aea06a18cca8bd3f18b65b7846/5a190/64new.png 800w,\n/static/c88102aea06a18cca8bd3f18b65b7846/d30ee/64new.png 980w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>In the above example, TypeScript knows that a <code class=\"language-text\">handheld</code> has the type <em>Handheld</em>\nand it can then infer that <code class=\"language-text\">handheld</code> is of either type <em>HandheldBasic</em>, <em>HandheldDual</em> or <em>HandheldVirtual</em> based on the value of the attribute <code class=\"language-text\">category</code>.</p>\n<p>The specific technique of type narrowing where a union type is narrowed based on literal attribute value is called\n<a href=\"https://www.typescriptlang.org/docs/handbook/2/narrowing.html#discriminated-unions\"><strong>discriminated union</strong></a>.</p>\n<blockquote>\n<p>Notice that the narrowing can naturally be also done via an <code class=\"language-text\">if</code> statement.\nWe could eg. do the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  companyHandhelds<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">handheld</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>handheld<span class=\"token punctuation\">.</span>category <span class=\"token operator\">===</span> <span class=\"token string\">'virtual'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'see the following:'</span><span class=\"token punctuation\">,</span> handheld<span class=\"token punctuation\">.</span>agreement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// can not refer to handheld.agreement here!</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</blockquote>\n<h4>Adding new types</h4>\n<p><em>What about adding new types?</em>\nIf we were to add a new handheld, wouldn't it be nice to know if we had already implemented handling that type in our code?\nIn the example above, a new type would go to the <code class=\"language-text\">default</code> block and nothing would get printed for a new type.\nSometimes this is wholly acceptable.\nFor instance, if you wanted to handle only specific (but not all) cases of a type union, having a default is fine.\n<strong><em>Nonetheless, you should handle all variations separately in most cases.</em></strong></p>\n<p>With TypeScript, we can use a method called <a href=\"https://www.typescriptlang.org/docs/handbook/2/narrowing.html#exhaustiveness-checking\"><strong>exhaustive type checking</strong></a>.\nIts basic principle is that if we encounter an unexpected value,\nwe call a function that accepts a value with the type\n<a href=\"https://www.typescriptlang.org/docs/handbook/2/narrowing.html#the-never-type\"><strong>never</strong></a> and also has the return type <code class=\"language-text\">never</code>.</p>\n<p>A straightforward version of the function could look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Helper function for exhaustive type checking\n */</span>\n<span class=\"token keyword\">const</span> assertNever <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>value<span class=\"token operator\">:</span> never<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token parameter\">never</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Unhandled discriminated union member: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>If we now were to replace the contents of our <code class=\"language-text\">default</code> block to:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">assertNever</span><span class=\"token punctuation\">(</span>handheld<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>and remove the case that handles the type <code class=\"language-text\">HandheldVirtual</code>, we would see the following error:</p>\n<picture><img src=\"/static/7b63c12a8246531af7dcf8052b626120/5a190/66new.png\" alt=\"vscode error Argument of Type CoursePart not assignable to type never\" srcset=\"/static/7b63c12a8246531af7dcf8052b626120/772e8/66new.png 200w,\n/static/7b63c12a8246531af7dcf8052b626120/e17e5/66new.png 400w,\n/static/7b63c12a8246531af7dcf8052b626120/5a190/66new.png 800w,\n/static/7b63c12a8246531af7dcf8052b626120/60b3a/66new.png 1179w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>The error message says that</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token string\">'HandheldVirtual'</span> is not assignable to parameter of <span class=\"token builtin class-name\">type</span> <span class=\"token string\">'never'</span><span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>which tells us that we are using a variable somewhere where it should never be used.\nThis tells us that something needs to be fixed.</p>\n</div>\n<div class=\"tasks\">\n<h3>Exercise 8.15</h3>\n<h4>8.15</h4>\n<p>Let us now continue extending the app created in exercise 8.14.\nFirst, add the type information and replace the variable <code class=\"language-text\">companyHandhelds</code> with the one from the example below.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  gameCount<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldBasic</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldDual</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  numberOfScreens<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"dual\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldVirtual</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  description<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  agreement<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"vr\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ntype Handheld <span class=\"token operator\">=</span> HandheldBasic <span class=\"token operator\">|</span> HandheldDual <span class=\"token operator\">|</span> HandheldVirtual<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> companyHandhelds<span class=\"token operator\">:</span> Handheld<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1046</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"AA Battery monster, here we come!\"</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"DS\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1791</span><span class=\"token punctuation\">,</span>\n    numberOfScreens<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    category<span class=\"token operator\">:</span> <span class=\"token string\">\"dual\"</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy Advance\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1538</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"The SP version was OP\"</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Virtual Boy\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">22</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"All Hail The Greatest system everrrrr\"</span><span class=\"token punctuation\">,</span>\n    agreement<span class=\"token operator\">:</span> <span class=\"token string\">\"http://sebastianmihai.com/virtual-boy-warnings.html\"</span>\n<span class=\"gatsby-highlight-code-line\">    category<span class=\"token operator\">:</span> <span class=\"token string\">\"vr\"</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy Color\"</span><span class=\"token punctuation\">,</span>\n    gameCount<span class=\"token operator\">:</span> <span class=\"token number\">916</span><span class=\"token punctuation\">,</span>\n    description<span class=\"token operator\">:</span> <span class=\"token string\">\"Game Boy Color...Get Into It!\"</span><span class=\"token punctuation\">,</span>\n    category<span class=\"token operator\">:</span> <span class=\"token string\">\"basic\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now we know that both interfaces <code class=\"language-text\">HandheldBasic</code> and <code class=\"language-text\">HandheldVirtual</code> share not only the base attributes but also an attribute called <code class=\"language-text\">description</code>, which is a <code class=\"language-text\">string</code> in both interfaces.</p>\n<p>Your first task is to declare a new interface that includes the <code class=\"language-text\">description</code> attribute and extends the <code class=\"language-text\">HandheldBase</code> interface.\nThen modify the code so that you can remove the <code class=\"language-text\">description</code> attribute from both <code class=\"language-text\">HandheldBasic</code> and <code class=\"language-text\">HandheldVirtual</code> without getting any errors.</p>\n<p>Then create a component <code class=\"language-text\">System</code> that renders all attributes of each type of Handheld.\n<strong>Use switch case-based exhaustive type checking!</strong>\nUse the new component in component <code class=\"language-text\">Content</code>.</p>\n<p>Lastly, add another handheld interface with the following attributes:\n<code class=\"language-text\">name</code>, <code class=\"language-text\">gameCount</code>, <code class=\"language-text\">description</code> and <code class=\"language-text\">colors</code>, the latter being a string array.\nThe objects of this type look like the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">\"GBA SP\"</span><span class=\"token punctuation\">,</span>\n  gameCount<span class=\"token operator\">:</span> <span class=\"token number\">1538</span><span class=\"token punctuation\">,</span>\n  description<span class=\"token operator\">:</span> <span class=\"token string\">\"A way better Game Boy Advance System\"</span><span class=\"token punctuation\">,</span>\n  colors<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Silver\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Blue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Onyx\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  category<span class=\"token operator\">:</span> <span class=\"token string\">\"special\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then add that interface to the type union <code class=\"language-text\">Handheld</code> and add corresponding data to the <code class=\"language-text\">companyHandhelds</code> variable.\nNow, if you have not modified your <code class=\"language-text\">Content</code> component correctly, you should get an error,\nbecause you have not yet added support for the fourth handheld type.\nImplement the necessary changes to <code class=\"language-text\">Content</code>, so that all attributes for the new handheld also get rendered and that the compiler doesn't produce any errors.</p>\n<p>The result might look like the following:</p>\n<picture><img src=\"/static/1b8981e08ef054e9aec9db298fbebe44/5a190/45.png\" alt=\"browser showing Nintendo\" srcset=\"/static/1b8981e08ef054e9aec9db298fbebe44/772e8/45.png 200w,\n/static/1b8981e08ef054e9aec9db298fbebe44/e17e5/45.png 400w,\n/static/1b8981e08ef054e9aec9db298fbebe44/5a190/45.png 800w,\n/static/1b8981e08ef054e9aec9db298fbebe44/c1b63/45.png 1200w,\n/static/1b8981e08ef054e9aec9db298fbebe44/1acf3/45.png 1596w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n</div>\n<div class=\"content\">\n<h3>React app with state</h3>\n<p>So far, we have only looked at an application that keeps all the data in a typed variable but does not have any state.\nLet us once more go back to the task app, and build a typed version of it.</p>\n<p>We start with the following code:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>newTask<span class=\"token punctuation\">,</span> setNewTask<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tasks<span class=\"token punctuation\">,</span> setTasks<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>When we hover over the <code class=\"language-text\">useState</code> calls in the editor, we notice couple of interesting things.</p>\n<p>The type of the first call <code class=\"language-text\">useState(&#39;&#39;)</code> looks like the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">useState<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>initialState<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> \n  <span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> React<span class=\"token punctuation\">.</span>Dispatch<span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>SetStateAction<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">>></span><span class=\"token punctuation\">]</span> </code></pre></div>\n<p>The type is somewhat challenging to decipher.\nIt has the following \"form\":</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token function\">functionName</span><span class=\"token punctuation\">(</span>parameters<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> return_value</code></pre></div>\n<p>So we notice that TypeScript compiler has inferred that the initial state is either a <code class=\"language-text\">string</code> or a <strong><em>function</em></strong> that <em>returns</em> a <code class=\"language-text\">string</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">initialState<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The type of the returned array is the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> React<span class=\"token punctuation\">.</span>Dispatch<span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>SetStateAction<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">>></span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>So with the line <code class=\"language-text\">const [newTask, setNewTask] = useState(&#39;&#39;);</code>,\nwe can deduce that <code class=\"language-text\">newTask</code> is a <code class=\"language-text\">string</code> since that is what <code class=\"language-text\">useState</code> returns.\nThe second element that we assigned <code class=\"language-text\">setNewTask</code> has a slightly more complex type: <code class=\"language-text\">React.Dispatch&lt;React.SetStateAction&lt;string&gt;&gt;</code>.\nWe notice that there is a <code class=\"language-text\">string</code> mentioned there, so we know that it must be the type of a function that sets a valued data.\nSee <a href=\"https://codewithstyle.info/Using-React-useState-hook-with-TypeScript/\">here</a> if you want to learn more about <code class=\"language-text\">useState</code>'s types.</p>\n<p>From this all we see that TypeScript has indeed\n<a href=\"https://www.typescriptlang.org/docs/handbook/type-inference.html#handbook-content\">inferred</a>\nthe type of the first <code class=\"language-text\">useState</code> quite right, it is creating a state with type <code class=\"language-text\">string</code>.</p>\n<p>When we look at the second line, <code class=\"language-text\">const [tasks, setTasks] = useState([]);</code>, the type looks quite different</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">useState<span class=\"token operator\">&lt;</span><span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>initialState<span class=\"token operator\">:</span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> \n  <span class=\"token punctuation\">[</span><span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> React<span class=\"token punctuation\">.</span>Dispatch<span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>SetStateAction<span class=\"token operator\">&lt;</span><span class=\"token builtin\">never</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">>></span><span class=\"token punctuation\">]</span> </code></pre></div>\n<p><em>TypeScript can just infer that the state has type <code class=\"language-text\">never[]</code></em>, it is an array but it <strong><em>has no clue what are the elements stored to array</em></strong>,\nso we clearly need to help the compiler and provide the type explicitly.</p>\n<p>One of the best sources for information about typing React is the <a href=\"https://react-typescript-cheatsheet.netlify.app/\">React TypeScript Cheatsheet</a>.</p>\n<p>The chapter about <a href=\"https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/hooks#usestate\">useState</a> hook\ninstructs to use a <strong>type parameter</strong> in situations where the compiler can not infer the type.</p>\n<p>Let us now define a type for <code class=\"language-text\">tasks</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Task</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span>\n  content<span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>To fix the typing issue, we write:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tasks<span class=\"token punctuation\">,</span> setTasks<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now when hovering the type is correct:</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\">useState<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>initialState<span class=\"token operator\">:</span> Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span>\n  <span class=\"token punctuation\">[</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> React<span class=\"token punctuation\">.</span>Dispatch<span class=\"token operator\">&lt;</span>React<span class=\"token punctuation\">.</span>SetStateAction<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">>></span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>So in technical terms useState is a <a href=\"https://www.typescriptlang.org/docs/handbook/2/generics.html#working-with-generic-type-variables\"><strong>generic function</strong></a>,\nwhere the type has to be specified as a type parameter in those cases when the compiler can not infer the type.</p>\n<p>Rendering the tasks is now easy.\nLet us just add some data to the state so that we can see that the code works:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Task</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span>\n  content<span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>newTask<span class=\"token punctuation\">,</span> setNewTask<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tasks<span class=\"token punctuation\">,</span> setTasks<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">'testing'</span> <span class=\"token punctuation\">}</span></span>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">{</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task</span> <span class=\"token operator\">=></span></span><span class=\"gatsby-highlight-code-line\">          <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></span>  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The next task is to add a form that makes it possible to create new tasks:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tasks<span class=\"token punctuation\">,</span> setTasks<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> content<span class=\"token operator\">:</span> <span class=\"token string\">'testing'</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>newTask<span class=\"token punctuation\">,</span> setNewTask<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>form<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">&lt;</span>input</span><span class=\"gatsby-highlight-code-line\">          value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newTask<span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">          onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setNewTask</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> </span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">/</span><span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">'submit'</span><span class=\"token operator\">></span>add<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span></span>      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task</span> <span class=\"token operator\">=></span>\n          <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>It just works!\nWhen we hover over the <code class=\"language-text\">event.target.value</code>, we see that it is a <code class=\"language-text\">string</code>, which is what <code class=\"language-text\">setNewTask</code> expects as a parameter:</p>\n<picture><img src=\"/static/7641f590918b8c4e1f7f9c1d08fede17/5a190/67new.png\" alt=\"vscode showing variable is a string\" srcset=\"/static/7641f590918b8c4e1f7f9c1d08fede17/772e8/67new.png 200w,\n/static/7641f590918b8c4e1f7f9c1d08fede17/e17e5/67new.png 400w,\n/static/7641f590918b8c4e1f7f9c1d08fede17/5a190/67new.png 800w,\n/static/7641f590918b8c4e1f7f9c1d08fede17/c1b63/67new.png 1200w,\n/static/7641f590918b8c4e1f7f9c1d08fede17/9685e/67new.png 1336w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>So we still need the event handler for adding the new task.\nLet us try the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">taskCreation</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// ...</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>taskCreation<span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span>        <span class=\"token operator\">&lt;</span>input\n          value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newTask<span class=\"token punctuation\">}</span>\n          onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setNewTask</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> \n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">'submit'</span><span class=\"token operator\">></span>add<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n      <span class=\"token comment\">// ...</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>It does not quite work, there is an Eslint error complaining about implicit any:</p>\n<picture><img src=\"/static/1af42ac768d073b48deb6d75b1f1c1cb/5a190/68new.png\" alt=\"vscode error event implicitly has any type\" srcset=\"/static/1af42ac768d073b48deb6d75b1f1c1cb/772e8/68new.png 200w,\n/static/1af42ac768d073b48deb6d75b1f1c1cb/e17e5/68new.png 400w,\n/static/1af42ac768d073b48deb6d75b1f1c1cb/5a190/68new.png 800w,\n/static/1af42ac768d073b48deb6d75b1f1c1cb/d5bfb/68new.png 1072w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>TypeScript compiler has now no clue what is the type of the parameter,\nso that is why the type is the infamous implicit any that we want to <a href=\"/part8/first_steps_with_type_script#the-horrors-of-any\">avoid</a> at all costs.\nThe React TypeScript cheatsheet comes again to rescue, the chapter about\n<a href=\"https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/forms_and_events\">forms and events</a> reveals that the right type of event handler is <code class=\"language-text\">React.SyntheticEvent</code>.</p>\n<p>The code becomes</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">Task</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span>\n  content<span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tasks<span class=\"token punctuation\">,</span> setTasks<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>newTask<span class=\"token punctuation\">,</span> setNewTask<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">taskCreation</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>SyntheticEvent</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> taskToAdd <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">      content<span class=\"token operator\">:</span> newTask<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">      id<span class=\"token operator\">:</span> tasks<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> <span class=\"token number\">1</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">setTasks</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>taskToAdd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">setNewTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>taskCreation<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>input value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>newTask<span class=\"token punctuation\">}</span> onChange<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setNewTask</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>button type<span class=\"token operator\">=</span><span class=\"token string\">'submit'</span><span class=\"token operator\">></span>add<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task</span> <span class=\"token operator\">=></span>\n          <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>task<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And that's it, our app is ready and perfectly typed!</p>\n<h3>Communicating with the server</h3>\n<p>Let's modify the app so that the tasks are saved in a JSON server backend in URL <a href=\"http://localhost:3001/tasks\">http://localhost:3001/tasks</a></p>\n<p>As usual, we shall use Axios and the <code class=\"language-text\">useEffect</code> hook to fetch the initial state from the server.</p>\n<p>Let us try the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3001/tasks'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>When we hover over the <code class=\"language-text\">response.data</code> we see that is has the type <code class=\"language-text\">any</code></p>\n<picture><img src=\"/static/9a82b1382b76cba3373a6963ba46c28b/5a190/69new.png\" alt=\"vscode response.data showing the any type\" srcset=\"/static/9a82b1382b76cba3373a6963ba46c28b/772e8/69new.png 200w,\n/static/9a82b1382b76cba3373a6963ba46c28b/e17e5/69new.png 400w,\n/static/9a82b1382b76cba3373a6963ba46c28b/5a190/69new.png 800w,\n/static/9a82b1382b76cba3373a6963ba46c28b/9d5da/69new.png 871w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>To set the data using <code class=\"language-text\">setTasks</code> we must type it properly.</p>\n<p>With a little <a href=\"https://upmostly.com/typescript/how-to-use-axios-in-your-typescript-apps\">help from the internet</a>, we find a clever trick:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    axios<span class=\"token punctuation\">.</span>get<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3001/tasks'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span>      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>When we hover over <code class=\"language-text\">response.data</code> we see that it has the correct type:</p>\n<picture><img src=\"/static/e7bfe9a0621ab483f7424fdeddecd023/5a190/70new.png\" alt=\"vscode showing response.data has Task array type\" srcset=\"/static/e7bfe9a0621ab483f7424fdeddecd023/772e8/70new.png 200w,\n/static/e7bfe9a0621ab483f7424fdeddecd023/e17e5/70new.png 400w,\n/static/e7bfe9a0621ab483f7424fdeddecd023/5a190/70new.png 800w,\n/static/e7bfe9a0621ab483f7424fdeddecd023/636c2/70new.png 911w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<p>With the correct type, we can call <code class=\"language-text\">setTasks</code> to get the code working:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    axios<span class=\"token punctuation\">.</span>get<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3001/tasks'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token function\">setTasks</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So just like with <code class=\"language-text\">useState</code>, we gave a <em>type parameter</em> to <code class=\"language-text\">axios.get</code> to instruct it how the typing should be done.\nLike <code class=\"language-text\">useState</code>, <strong><code class=\"language-text\">axios.get</code></strong> is a <a href=\"https://www.typescriptlang.org/docs/handbook/2/generics.html#working-with-generic-type-variables\">generic function</a>.\nUnlike some generic functions, the type parameter of <code class=\"language-text\">axios.get</code> has a default value <code class=\"language-text\">any</code>.\n<em>If the function is used without defining the type parameter, the type of the response data would be <code class=\"language-text\">any</code></em>.</p>\n<p>The code works, and we see no large errors from eslint or the compiler.\nHowever, <strong><em>giving a type parameter to <code class=\"language-text\">axios.get</code> is potentially dangerous</em></strong>.\nThe *request body can be <strong>anything*</strong>, and when giving a type parameter we are essentially just telling to TypeScript compiler to trust us that the data has type <code class=\"language-text\">Task[]</code>.</p>\n<p>So our code is essentially as safe as it would be if a <a href=\"/part8/first_steps_with_type_script#type-assertion\">type assertion</a> were used:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3001/tasks'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// response.body is of type any</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token function\">setTasks</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data <span class=\"token keyword\">as</span> Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Since the TypeScript types do not even exist in runtime, <strong>our code does not <em>safeguard</em> against malformed data</strong> from the request body.</p>\n<p>Type casting <code class=\"language-text\">axios.get</code> might be ok if we are <em>absolutely sure</em> that the backend behaves correctly and always sends the right data.\nIf we want to build a robust system, we should prepare for surprises and parse the response data in the frontend\nsimilarly to what we did <a href=\"/part8/typing_an_express_app#proofing-requests\">in the previous section</a> for the requests to the backend.</p>\n<p>Let's finish our app's functionality by integrating axios into our task creation:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">taskCreation</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>SyntheticEvent</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\">    axios<span class=\"token punctuation\">.</span>post<span class=\"token operator\">&lt;</span>Task<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:3001/tasks'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> content<span class=\"token operator\">:</span> newTask <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token function\">setTasks</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n    <span class=\"token function\">setNewTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We are again giving <code class=\"language-text\">axios.post</code> a type parameter.\nWe know that the server response is the added task, so the proper type parameter is <code class=\"language-text\">Task</code>.</p>\n<p>Let's refactor a bit of the code.\nLet's move some type definitions into a new file named <em>types.ts</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Task</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span>\n  content<span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> type NewTask <span class=\"token operator\">=</span> Omit<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">,</span> <span class=\"token string\">'id'</span><span class=\"token operator\">></span></code></pre></div>\n<p>We have added a type for a <em>new task</em>, one that does not yet have the <code class=\"language-text\">id</code> field assigned.</p>\n<p>The code that communicates with the backend is also refactored to the file <em>services/taskService.tsx</em></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Task<span class=\"token punctuation\">,</span> NewTask <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"../types\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> baseUrl <span class=\"token operator\">=</span> <span class=\"token string\">'http://localhost:3001/tasks'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getAllTasks</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> axios\n    <span class=\"token punctuation\">.</span>get<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">createTask</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">object<span class=\"token operator\">:</span> NewTask</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> axios\n    <span class=\"token punctuation\">.</span>post<span class=\"token operator\">&lt;</span>Task<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>baseUrl<span class=\"token punctuation\">,</span> object<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The component <code class=\"language-text\">App</code> is now much cleaner:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useState<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Task <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./types\"</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getAllTasks<span class=\"token punctuation\">,</span> createTask <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./services/taskService'</span><span class=\"token punctuation\">;</span></span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>newTask<span class=\"token punctuation\">,</span> setNewTask<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>tasks<span class=\"token punctuation\">,</span> setTasks<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> useState<span class=\"token operator\">&lt;</span>Task<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">getAllTasks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token function\">setTasks</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">taskCreation</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>SyntheticEvent</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token function\">createTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>content<span class=\"token operator\">:</span> newTask<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token function\">setTasks</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\n    <span class=\"token function\">setNewTask</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The app is now nicely typed and ready for further development!</p>\n<p>The code of the typed tasks can be found <a href=\"https://github.com/comp227/typescript-tasks\">here</a>.</p>\n<h3>About defining object types</h3>\n<p>We have used <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#interfaces\">interfaces</a>\nto define object types, e.g. diary entries, in the previous section</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">DiaryEntry</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  date<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  weather<span class=\"token operator\">:</span> Weather<span class=\"token punctuation\">;</span>\n  visibility<span class=\"token operator\">:</span> Visibility<span class=\"token punctuation\">;</span>\n  comment<span class=\"token operator\">?</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<p>and in the handheld of this section</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">interface</span> <span class=\"token class-name\">HandheldBase</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  gameCount<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We actually could have had the same effect by using a <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#type-aliases\"><strong>type alias</strong></a></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">type DiaryEntry <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  id<span class=\"token operator\">:</span> number<span class=\"token punctuation\">;</span>\n  date<span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n  weather<span class=\"token operator\">:</span> Weather<span class=\"token punctuation\">;</span>\n  visibility<span class=\"token operator\">:</span> Visibility<span class=\"token punctuation\">;</span>\n  comment<span class=\"token operator\">?</span><span class=\"token operator\">:</span> string<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<p><code class=\"language-text\">type</code> and <code class=\"language-text\">interface</code> are mostly interchangeable.\nHowever, subtle differences exist, particularly when you try to define types or interfaces with a non-unique name.\nIf you define a second <em><code class=\"language-text\">interface</code></em> with the same name,\nTypescript will merge them.\nTrying to define a second <em><code class=\"language-text\">type</code></em>, however,\nwill result in Typescript raising an error because a type with the same name has already declared.</p>\n<p>TypeScript documentation <a href=\"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces\">recommends using interfaces</a> in most cases.</p>\n</div>\n<div class=\"tasks\">\n<h3>Exercises 8.16-8.19</h3>\n<p>Let us now build a frontend for the Tails' flight diaries that was developed in <a href=\"/part8/typing_an_express_app\">the previous section</a>.\nThe source code of the backend can be found in <a href=\"https://github.com/comp227/flight-diary\">this GitHub repository</a>.</p>\n<h4>Exercise 8.16</h4>\n<p>Create a TypeScript React app with similar configurations as the apps of this section.\nFetch the diaries from the backend and render those to screen.\nDo all the required typing and ensure that there are no Eslint errors.</p>\n<p><strong><em>Remember to keep the network tab open.</em></strong>\nIt might give you a valuable hint...</p>\n<p>You can decide how the diary entries are rendered.\nIf you wish, you may take inspiration from the figure below.\nNotice that the backend API does not return the diary comments, you may modify it to return those on a GET request.</p>\n<h4>Exercise 8.17</h4>\n<p>Make it possible to add new diary entries from the frontend.\nIn this exercise you may skip all validations and assume that the user just enters the data in a correct form.</p>\n<h4>Exercise 8.18</h4>\n<p>Notify the user if the the creation of a diary entry fails in the backend.\nMake sure to also show the reason for the failure.</p>\n<p>See <a href=\"https://dev.to/mdmostafizurrahaman/handle-axios-error-in-typescript-4mf9\">this example</a> on how you can narrow the Axios error so that you can get hold of the error message.</p>\n<p>Your solution may look like this:</p>\n<picture><img src=\"/static/f036ca43fc9598f7cd51fa4482c3bd6e/5a190/71new.png\" alt=\"browser showing error incorrect visibility best ever\" srcset=\"/static/f036ca43fc9598f7cd51fa4482c3bd6e/772e8/71new.png 200w,\n/static/f036ca43fc9598f7cd51fa4482c3bd6e/e17e5/71new.png 400w,\n/static/f036ca43fc9598f7cd51fa4482c3bd6e/5a190/71new.png 800w,\n/static/f036ca43fc9598f7cd51fa4482c3bd6e/c1b63/71new.png 1200w,\n/static/f036ca43fc9598f7cd51fa4482c3bd6e/913a1/71new.png 1476w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n<h4>Exercise 8.19</h4>\n<p>The addition of a diary entry is now very error prone since the user can type anything to the input fields.\nWe must improve this situation.</p>\n<p>Modify the input form so that the date is set with an HTML <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date\"><code class=\"language-text\">date</code></a> input element,\nand the weather and visibility are set with HTML <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio\">radio buttons</a>.\nWe have already used radio buttons in <a href=\"/part6/many_reducers#store-with-complex-state\">part 6</a>, that material may or may not be useful...</p>\n<p>Your app should all the time stay well typed and there should not be any Eslint errors and no Eslint rules should be ignored.</p>\n<p>Your solution could look like this:</p>\n<picture><img src=\"/static/0a768e12adf75afb3c347d4a1f9384ab/5a190/72new.png\" alt=\"browser showing add new entry form for diaries\" srcset=\"/static/0a768e12adf75afb3c347d4a1f9384ab/772e8/72new.png 200w,\n/static/0a768e12adf75afb3c347d4a1f9384ab/e17e5/72new.png 400w,\n/static/0a768e12adf75afb3c347d4a1f9384ab/5a190/72new.png 800w,\n/static/0a768e12adf75afb3c347d4a1f9384ab/c1b63/72new.png 1200w,\n/static/0a768e12adf75afb3c347d4a1f9384ab/85e74/72new.png 1436w\" sizes=\"(max-width: 800px) 100vw, 800px\"></picture>\n</div>","frontmatter":{"mainImage":{"publicURL":"/static/ed8ae98c5d885b4d1928a681eefbe7c4/part-8.svg"},"part":8,"letter":"d","lang":"en"}}},"pageContext":{"part":8,"letter":"d","lang":"en"}}}